version: 2

models:
  - name: V_STG_F_INV_ILD_B
    description: "Staging view for Daily Inventory Snapshots."
    columns:
      - name: DAY_ID
        description: "Date of receiving the inventory snapshot."
      - name: LOC_ID
        description: "Unique identifier in the source system for the Location."
        tests:
          - not_null
      - name: ITM_ID
        description: "Unique identifier in the source system for the Item."
        tests:
          - not_null
      - name: ITMLOC_STTS_CDE
        description: "Retail price status code for this item at this location, such as 'R' for Regular and 'C' for Clearance."
        tests:
          - not_null
      - name: LOC_TYP_CDE
        description: "Reason code for the location type, such as 'S' for store and 'W' for warehouse."
      - name: F_OH_QTY
        description: "Quantity (in units) of inventory on hand."
      - name: F_OH_CST_LCL
        description: "Cost valuation of inventory on hand, in local currency."
      - name: F_OH_RTL_LCL
        description: "Retail valuation of inventory on hand, in local currency."
      - name: F_IT_CST_LCL
        description: "Cost valuation of inventory in transit from another store or DC, in local currency."
      - name: F_IT_RTL_LCL
        description: "Retail valuation of inventory in transit from another store or DC, in local currency."
      - name: F_UNIT_WAC_CST_LCL
        description: "Weighted Average Cost (WAC) per unit, in local currency."
      - name: F_UNIT_RTL_LCL
        description: "Unit retail price at which the inventory is valued, in local currency."
      - name: F_REG_UNIT_RTL_LCL
        description: "Permanent Unit Retail Price of the item, not including temporary/promotional price reductions, in local currency."
      - name: F_PROMO_RTL_LCL
        description: "Promotional Unit Retail Price of the item, including temporary/promotional price reductions, in local currency."
      - name: LCL_CNCY_CDE
        description: "Local currency code."
    tests:
      # Test that the combination of the following columns is unique (i.e. forms the primary key)
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [LOC_ID, ITM_ID]
